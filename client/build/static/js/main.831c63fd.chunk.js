(this.webpackJsonpvotingapp=this.webpackJsonpvotingapp||[]).push([[0],[,,,,,,function(e,t,a){e.exports=a(13)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(4),c=a.n(r),i=a(1),s=(a(11),function(e){var t=e.isDisabled,a=e.addVote,n=e.background,r=e.party,c=e.value,i=e.vote;return o.a.createElement("div",{className:"vote__container"},o.a.createElement("input",{className:"vote__input",disabled:t,type:"checkbox",name:r,onClick:a,style:{cursor:t?"":"pointer"}}),o.a.createElement("div",{className:"vote__value"},i),o.a.createElement("div",null,o.a.createElement("div",{className:"vote__party"},r),o.a.createElement("div",{className:"vote__bar",style:{background:n,width:c}})))}),l=a(2),u=a(5);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f="LOAD_DATA",d="ADD_VOTE",m={parties:[{name:"LABOUR",color:"#E4003B",votes:0},{name:"CONSERVATIVES",color:"#0066ff",votes:0},{name:"LIBDEMS",color:"#FFAE27",votes:0},{name:"GREEN",color:"green",votes:0},{name:"BREXIT",color:"purple",votes:0},{name:"OTHER",color:"black",votes:0}],totalVotes:1,isInitialised:!1},b=function(e,t){var a,n,o=v({},e);switch(t.type){case f:return a=Object(l.a)(o.parties),n=o.totalVotes,!0,a.forEach((function(e){var a=t.data.filter((function(t){return e.name===t.name})),o=Object(i.a)(a,1)[0];o&&(e.votes=o.votes,n+=o.votes)})),v({},o,{parties:a,totalVotes:n,isInitialised:!0});case d:return a=Object(l.a)(o.parties),n=o.totalVotes,a.forEach((function(e){e.name===t.party&&(e.votes+=1,n+=1)})),v({},o,{totalVotes:n,parties:a});default:return e}},y=(a(12),"/api");var E=function(){var e=o.a.useReducer(b,m),t=Object(i.a)(e,2),a=t[0],n=t[1];o.a.useEffect((function(){fetch(y,{Accept:"application/json"}).then((function(e){e.json().then((function(e){n({type:f,data:e})})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}),[]);var r=window.innerWidth,c=o.a.useState(!1),l=Object(i.a)(c,2),u=l[0],p=l[1],v=function(e){var t=e.target,a=t.name;t.checked&&(n({type:d,party:a}),function(e){var t={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({party:e})};fetch(y,t).then((function(e){return e.ok})).catch((function(e){return console.log(e)}))}(a),p(!0))};return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"content",style:{left:r/4}},o.a.createElement("div",{className:"title"},"The People's Poll - UK General Election 2019"),a.isInitialised?o.a.createElement("div",{className:"bar-chart"},a.parties.map((function(e,t){return o.a.createElement(s,{isDisabled:u,addVote:v,party:e.name,vote:e.votes,background:e.color,value:e.votes/a.totalVotes*r,key:t})}))):"Loading..."))};c.a.render(o.a.createElement(E,null),document.getElementById("root"))}],[[6,1,2]]]);
//# sourceMappingURL=main.831c63fd.chunk.js.map