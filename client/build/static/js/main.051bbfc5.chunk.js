(this.webpackJsonpvotingapp=this.webpackJsonpvotingapp||[]).push([[0],[,,,,function(e,t,a){e.exports=a(11)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(3),r=a.n(o),s=a(1),i=(a(9),function(e){var t=e.isDisabled,a=e.addVote,n=e.background,o=e.party,r=e.value,s=e.vote;return c.a.createElement("div",{className:"vote__container"},c.a.createElement("input",{className:"vote__input",disabled:t,type:"checkbox",name:o,onClick:a,style:{cursor:t?"":"pointer"}}),c.a.createElement("div",{className:"vote__value"},s),c.a.createElement("div",null,c.a.createElement("div",{className:"vote__party"},o),c.a.createElement("div",{className:"vote__bar",style:{background:n,width:r}})))}),l=(a(10),{LABOUR:"LABOUR",CONSERVATIVES:"CONSERVATIVES",LIBDEMS:"LIBDEMS"}),u=function(e){var t={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({party:e})};fetch("/api",t).then((function(e){return e.ok})).catch((function(e){return console.log(e)}))};var d=function(){c.a.useEffect((function(){fetch("/api",{Accept:"application/json"}).then((function(e){e.json().then((function(e){var t=0;e.forEach((function(e){e.name===l.LABOUR?(f(e.votes),t+=e.votes):e.name===l.CONSERVATIVES?(N(e.votes),t+=e.votes):e.name===l.LIBDEMS&&(y(e.votes),t+=e.votes)})),E(t)})).catch((function(e){return console.log(e)})),o(!0)})).catch((function(e){return console.log(e)}))}),[]);var e=window.innerWidth,t=c.a.useState(!1),a=Object(s.a)(t,2),n=a[0],o=a[1],r=c.a.useState(1),d=Object(s.a)(r,2),v=d[0],E=d[1],m=c.a.useState(0),p=Object(s.a)(m,2),S=p[0],f=p[1],b=c.a.useState(0),h=Object(s.a)(b,2),O=h[0],N=h[1],V=c.a.useState(0),A=Object(s.a)(V,2),g=A[0],y=A[1],B=c.a.useState(!1),I=Object(s.a)(B,2),L=I[0],R=I[1],k=function(e){var t,a=e.target,n=a.name;a.checked&&(E(v+1),(t=n)===l.LABOUR?(u(l.LABOUR),f(S+1)):t===l.CONSERVATIVES?(u(l.CONSERVATIVES),N(O+1)):t===l.LIBDEMS&&(u(l.LIBDEMS),y(g+1)),R(!0))};return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"content",style:{left:e/4}},c.a.createElement("div",{className:"title"},"The People's Poll"),n?c.a.createElement("div",{className:"bar-chart"},c.a.createElement(i,{isDisabled:L,addVote:k,party:l.CONSERVATIVES,vote:O,background:"#0066ff",value:O/v*e}),c.a.createElement(i,{isDisabled:L,addVote:k,party:l.LABOUR,background:"#E4003B",vote:S,value:S/v*e}),c.a.createElement(i,{isDisabled:L,addVote:k,party:l.LIBDEMS,vote:g,background:"#FFAE27",value:g/v*e})):"Loading..."))};r.a.render(c.a.createElement(d,null),document.getElementById("root"))}],[[4,1,2]]]);
//# sourceMappingURL=main.051bbfc5.chunk.js.map